<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>레시피 상세 - 맛있는 추천</title>
    <meta name="description" content="상세한 레시피 정보와 조리 방법을 확인하세요">
    
    <!-- CSS 파일들 -->
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" href="css/forms.css">
    <link rel="stylesheet" href="css/auth.css">
    <link rel="stylesheet" href="css/responsive.css">
    
    <!-- 레시피 상세 페이지 전용 스타일 -->
    <style>
        .recipe-detail {
            max-width: 800px;
            margin: 0 auto;
        }
        
        .recipe-header {
            text-align: center;
            margin-bottom: var(--spacing-xl);
            padding-bottom: var(--spacing-lg);
            border-bottom: 1px solid var(--border);
        }
        
        .recipe-header h1 {
            font-size: var(--text-3xl);
            margin-bottom: var(--spacing-sm);
            color: var(--text);
        }
        
        .recipe-category {
            display: inline-block;
            background: var(--primary);
            color: white;
            padding: var(--spacing-xs) var(--spacing-md);
            border-radius: 20px;
            font-size: var(--text-sm);
            font-weight: 600;
        }
        
        .recipe-nutrition {
            margin-bottom: var(--spacing-xl);
        }
        
        .recipe-nutrition h2 {
            color: var(--primary);
            font-size: var(--text-xl);
            margin-bottom: var(--spacing-md);
            text-align: center;
        }
        
        .nutrition-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: var(--spacing-md);
        }
        
        .nutrition-card {
            background: rgba(59, 130, 246, 0.1);
            border: 1px solid rgba(59, 130, 246, 0.2);
            border-radius: 12px;
            padding: var(--spacing-lg);
            text-align: center;
        }
        
        .nutrition-card .nutrition-value {
            font-size: var(--text-2xl);
            font-weight: 700;
            color: var(--primary);
            display: block;
            margin-bottom: var(--spacing-xs);
        }
        
        .nutrition-card .nutrition-label {
            font-size: var(--text-sm);
            color: var(--muted);
        }
        
        .recipe-ingredients,
        .recipe-steps,
        .recipe-tips {
            margin-bottom: var(--spacing-xl);
        }
        
        .recipe-ingredients h2,
        .recipe-steps h2,
        .recipe-tips h2 {
            color: var(--primary);
            font-size: var(--text-xl);
            margin-bottom: var(--spacing-md);
            padding-bottom: var(--spacing-sm);
            border-bottom: 1px solid var(--border);
        }
        
        .ingredients-list {
            list-style: none;
            padding: 0;
        }
        
        .ingredients-list li {
            background: rgba(16, 185, 129, 0.1);
            border: 1px solid rgba(16, 185, 129, 0.2);
            border-radius: 8px;
            padding: var(--spacing-sm) var(--spacing-md);
            margin-bottom: var(--spacing-sm);
            color: var(--success);
            font-weight: 500;
        }
        
        .steps-list {
            counter-reset: step-counter;
            list-style: none;
            padding: 0;
        }
        
        .steps-list li {
            display: flex;
            align-items: flex-start;
            margin-bottom: var(--spacing-lg);
            padding: var(--spacing-md);
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            border-left: 4px solid var(--primary);
        }
        
        .step-number {
            background: var(--primary);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            margin-right: var(--spacing-md);
            flex-shrink: 0;
        }
        
        .tip-content {
            background: rgba(245, 158, 11, 0.1);
            border: 1px solid rgba(245, 158, 11, 0.2);
            border-radius: 12px;
            padding: var(--spacing-lg);
        }
        
        .tip-content p {
            margin: 0;
            color: var(--warning);
            font-style: italic;
            line-height: 1.6;
        }
        
        .recipe-meta {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-md);
            margin-bottom: var(--spacing-xl);
        }
        
        .meta-item {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 12px;
            padding: var(--spacing-md);
            text-align: center;
        }
        
        .meta-label {
            display: block;
            font-size: var(--text-sm);
            color: var(--muted);
            margin-bottom: var(--spacing-xs);
        }
        
        .meta-value {
            display: block;
            font-size: var(--text-lg);
            font-weight: 600;
            color: var(--text);
        }
        
        .recipe-actions {
            display: flex;
            gap: var(--spacing-md);
            justify-content: center;
            padding-top: var(--spacing-lg);
            border-top: 1px solid var(--border);
        }
        
        @media (max-width: 768px) {
            .recipe-header h1 {
                font-size: var(--text-2xl);
            }
            
            .nutrition-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .recipe-meta {
                grid-template-columns: 1fr;
            }
            
            .recipe-actions {
                flex-direction: column;
            }
        }
        
        @media (max-width: 480px) {
            .nutrition-grid {
                grid-template-columns: 1fr;
            }
            
            .steps-list li {
                flex-direction: column;
                text-align: center;
            }
            
            .step-number {
                margin-right: 0;
                margin-bottom: var(--spacing-sm);
            }
        }
    </style>
</head>
<body>
    <!-- 인증 컨테이너 -->
    <div class="auth-container">
        <!-- 로그인 전: 로그인/회원가입 버튼 -->
        <div id="loginButtons">
            <button class="auth-btn" onclick="showLogin()">로그인</button>
            <button class="auth-btn primary" onclick="showSignup()">회원가입</button>
        </div>
        
        <!-- 로그인 후: 사용자 이름과 로그아웃 버튼 -->
        <div id="userInfo" style="display: none;">
            <div class="user-name" id="userName"></div>
            <button class="auth-btn" onclick="logout()">로그아웃</button>
        </div>
    </div>

    <main class="wrap">
        <div class="container">
            <div id="recipeDetailContainer">
                <!-- 레시피 상세 정보가 여기에 동적으로 로드됩니다 -->
            </div>
        </div>
    </main>

    <!-- 로그인 모달 -->
    <div id="loginModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">로그인</h2>
                <button class="modal-close" onclick="closeLogin()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="loginForm" class="form-container">
                    <div class="form-group">
                        <label for="loginUsername">아이디</label>
                        <input type="text" id="loginUsername" name="username" required>
                    </div>
                    <div class="form-group">
                        <label for="loginPassword">비밀번호</label>
                        <input type="password" id="loginPassword" name="password" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeLogin()">취소</button>
                <button class="btn btn-primary" type="submit" form="loginForm">로그인</button>
            </div>
        </div>
    </div>

    <!-- 회원가입 모달 -->
    <div id="signupModal" class="modal" style="display: none;">
        <div class="modal-content">
            <div class="modal-header">
                <h2 class="modal-title">회원가입</h2>
                <button class="modal-close" onclick="closeSignup()">&times;</button>
            </div>
            <div class="modal-body">
                <form id="signupForm" class="form-container">
                    <!-- 기본 정보 -->
                    <div class="form-group">
                        <label for="username">아이디 <span class="required">*</span></label>
                        <input type="text" id="username" name="username" 
                               placeholder="영문, 숫자, 언더스코어 4-20자" required>
                        <div id="usernameMessage" class="validation-message"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="password">비밀번호 <span class="required">*</span></label>
                        <input type="password" id="password" name="password" 
                               placeholder="8자 이상, 영문+숫자+특수문자" required>
                        <div id="passwordStrength" class="password-strength"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="passwordConfirm">비밀번호 확인 <span class="required">*</span></label>
                        <input type="password" id="passwordConfirm" name="passwordConfirm" 
                               placeholder="비밀번호를 다시 입력하세요" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="email">이메일 <span class="required">*</span></label>
                        <input type="email" id="email" name="email" 
                               placeholder="example@email.com" required>
                        <div id="emailMessage" class="validation-message"></div>
                    </div>
                    
                    <div class="form-group">
                        <label for="name">이름 <span class="required">*</span></label>
                        <input type="text" id="name" name="name" placeholder="홍길동" required>
                    </div>
                    
                    <div class="form-group">
                        <label for="birthDate">생년월일 <span class="required">*</span></label>
                        <input type="date" id="birthDate" name="birthDate" required>
                    </div>
                    
                    <!-- 성별 선택 -->
                    <div class="form-group">
                        <label>성별 <span class="required">*</span></label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input id="male" name="gender" type="radio" value="male" required>
                                <label for="male">남성</label>
                            </div>
                            <div class="radio-item">
                                <input id="female" name="gender" type="radio" value="female" required>
                                <label for="female">여성</label>
                            </div>
                            <div class="radio-item">
                                <input id="other" name="gender" type="radio" value="other" required>
                                <label for="other">기타</label>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 국적 선택 -->
                    <div class="form-group">
                        <label>국적 <span class="required">*</span></label>
                        <div class="radio-group">
                            <div class="radio-item">
                                <input id="korean" name="nationality" type="radio" value="korean" required>
                                <label for="korean">내국인</label>
                            </div>
                            <div class="radio-item">
                                <input id="foreigner" name="nationality" type="radio" value="foreigner" required>
                                <label for="foreigner">외국인</label>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-outline" onclick="closeSignup()">취소</button>
                <button class="btn btn-primary" type="submit" form="signupForm">회원가입</button>
            </div>
        </div>
    </div>

    <!-- JavaScript 파일들 -->
    <script src="js/utils.js"></script>
    <script src="js/api.js"></script>
    <script src="js/auth.js"></script>
    <script src="js/main.js"></script>
</body>
</html>
