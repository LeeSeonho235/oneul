# 맛있는 추천 - 음식 추천 웹사이트

영양소 기반 맞춤형 음식 추천 서비스입니다. 사용자가 원하는 영양소를 입력하면 최적의 음식을 추천하고, 상세한 레시피 정보를 제공합니다.

## 🚀 주요 기능

### 🔐 사용자 인증
- **회원가입**: 아이디, 비밀번호, 이메일, 이름, 생년월일, 성별, 국적 입력
- **로그인/로그아웃**: 토큰 기반 인증 시스템
- **비밀번호 재설정**: 이메일을 통한 비밀번호 재설정
- **아이디 중복확인**: 실시간 아이디 중복 확인
- **비밀번호 강도 검사**: 실시간 비밀번호 강도 표시

### 🍽️ 음식 추천
- **영양소 입력**: 단백질, 탄수화물, 지방 목표 섭취량 입력
- **맞춤형 추천**: 입력된 영양소 기반으로 최적의 음식 추천 (서버 API 연동)
- **이미지 자동 로드**: 음식 이름으로 이미지 자동 검색 및 표시
- **개인화 추천**: 사용자 선호도와 알레르기 정보 반영
- **영양소 정보 표시**: 각 음식의 칼로리, 단백질, 탄수화물, 지방 정보 표시

### 📖 레시피 관리
- **상세 레시피**: 재료, 조리 순서, 팁, 조리 시간, 난이도 정보
- **레시피 찜하기**: 로그인 사용자만 찜 기능 이용 가능
- **찜한 레시피 관리**: 찜한 레시피 목록 조회 및 삭제
- **카테고리별 분류**: 한식, 중식, 일식, 양식 등 카테고리별 분류

### 👤 사용자 관리
- **프로필 조회/수정**: 계정 정보 조회 및 수정
- **선호도 설정**: 음식 종류, 알레르기, 매운맛 선호도 설정
- **영양소 히스토리**: 과거 입력한 영양소 데이터 저장

## 🛠️ 기술 스택

### Frontend
- **HTML5**: 시맨틱 마크업
- **CSS3**: 모던 CSS (Grid, Flexbox, CSS Variables)
- **JavaScript (ES6+)**: 모듈화된 JavaScript
- **반응형 웹 디자인**: 모바일, 태블릿, 데스크톱 지원

### Backend API
- **API 서버**: `https://oneul.site` (Nginx 도메인 프록시)
  - 실제 FastAPI: `http://13.209.17.183:8000`
  - Nginx 프록시: `https://oneul.site` → FastAPI
- **음식 추천 API**: `/recommend/menu` (POST)
- **이미지 검색 API**: `/images/by-name` (GET)
- **서버 상태 확인**: `/health` (GET)

### 보안
- **비밀번호 암호화**: SHA-256 해시 알고리즘
- **토큰 기반 인증**: 세션 토큰 관리
- **입력 유효성 검사**: 클라이언트 사이드 검증
- **XSS 방지**: 입력 데이터 검증 및 이스케이프
- **HTTPS 통신**: 안전한 API 통신

## 📁 프로젝트 구조

```
프로젝트/
├── index.html              # 메인 페이지 (영양소 입력 및 음식 추천)
├── recipe-detail.html      # 레시피 상세 페이지
├── favorites.html          # 찜한 레시피 목록 페이지
├── css/                    # CSS 파일들
│   ├── main.css           # 공통 스타일 및 기본 설정
│   ├── forms.css          # 폼 관련 스타일
│   ├── auth.css           # 인증 관련 스타일
│   └── responsive.css     # 반응형 웹 디자인
├── js/                     # JavaScript 파일들
│   ├── utils.js           # 유틸리티 함수들
│   ├── api.js             # API 통신 및 데이터 관리
│   ├── auth.js            # 인증 관련 기능
│   └── main.js            # 메인 기능 및 페이지 공통 로직
└── README.md              # 프로젝트 설명서
```

## 🎯 핵심 기능 상세

### 1. API 통합
```javascript
// API 설정
const APIConfig = {
  // Nginx 도메인 프록시 사용 (https://oneul.site → FastAPI)
  baseURL: 'https://oneul.site',
  endpoints: {
    recommendMenu: '/recommend/menu',
    imageByName: '/images/by-name',
    health: '/health'
  }
};

// 음식 추천 API 호출
const result = await API.recommendation.recommendFoods({
  protein: 20,
  carbs: 50,
  fat: 10
});

// 이미지 검색 API 호출
const imageUrl = await API.image.getImageByName('김치찌개');
```

### 2. 영양소 기반 음식 추천
- 서버 API를 통해 영양소 기반 음식 추천
- 추천 결과에 이미지 자동 추가
- 영양소 정보 자동 표시

### 2. 사용자 선호도 반영
- 음식 카테고리 선호도 (한식, 중식, 일식, 양식 등)
- 알레르기 정보 필터링
- 매운맛 선호도 설정

### 3. 실시간 유효성 검사
- 아이디 중복 확인 (디바운스 적용)
- 비밀번호 강도 실시간 표시
- 이메일 형식 검증
- 비밀번호 일치 확인

## 🚀 사용 방법

### 1. 기본 사용 (로그인 없이)
1. `index.html` 페이지 접속
2. 원하는 영양소 값 입력 (단백질, 탄수화물, 지방)
3. "음식 추천 받기" 버튼 클릭
4. 서버에서 추천된 음식 목록 확인 (이미지 자동 로드)
5. 각 음식의 영양소 정보 확인
6. "자세히" 버튼으로 레시피 정보 확인

### API 엔드포인트
- **음식 추천**: `POST /recommend/menu`
  ```json
  {
    "protein_g": 20,
    "carbohydrate_g": 50,
    "fat_g": 10
  }
  ```
- **이미지 검색**: `GET /images/by-name?name=김치찌개`
  ```json
  {
    "name": "김치찌개",
    "image_url": "/static/kfood/kimchistew.jpg"
  }
  ```
- **서버 상태**: `GET /health`
  ```json
  {
    "ok": true
  }
  ```

### 2. 회원가입 및 로그인
1. 우측 상단 "회원가입" 버튼 클릭
2. 필수 정보 입력 (아이디, 비밀번호, 이메일, 이름 등)
3. 음식 선호도 및 알레르기 정보 설정
4. 회원가입 완료 후 로그인
5. 개인화된 음식 추천 서비스 이용

### 3. 찜한 레시피 관리
1. 로그인 후 레시피 상세 페이지에서 "찜하기" 클릭
2. `favorites.html` 페이지에서 찜한 레시피 목록 확인
3. 필요시 찜한 레시피 삭제 가능

## 📱 반응형 디자인

### 모바일 (480px 이하)
- 세로 레이아웃으로 변경
- 터치 친화적 버튼 크기
- 간소화된 네비게이션

### 태블릿 (481px - 768px)
- 2열 그리드 레이아웃
- 중간 크기 폰트 및 간격

### 데스크톱 (769px 이상)
- 3-4열 그리드 레이아웃
- 풍부한 상호작용 효과

## 🔒 보안 기능

### 비밀번호 보안
- SHA-256 해시 알고리즘 사용
- 비밀번호 강도 검사 (약함/보통/강함)
- 최소 8자, 영문+숫자+특수문자 조합

### 인증 보안
- 토큰 기반 세션 관리
- 자동 로그아웃 (세션 만료)
- XSS 공격 방지

### 데이터 보안
- 클라이언트 사이드 데이터 검증
- 민감한 정보 암호화 저장
- 안전한 데이터 전송

## 🎨 UI/UX 특징

### 다크 테마
- 눈의 피로 감소
- 모던하고 세련된 디자인
- 에너지 효율성 향상

### 접근성
- ARIA 라벨 적용
- 키보드 네비게이션 지원
- 스크린 리더 호환

### 사용자 경험
- 직관적인 인터페이스
- 즉각적인 피드백
- 로딩 상태 표시

## 🔧 개발자 가이드

### CSS 아키텍처
- CSS Variables를 활용한 테마 시스템
- 모듈화된 CSS 파일 구조
- BEM 방법론 적용

### JavaScript 아키텍처
- 모듈화된 클래스 기반 구조
- 이벤트 기반 프로그래밍
- 비동기 처리 (async/await)

### 데이터 관리
- LocalStorage 기반 데이터 저장 (사용자 정보, 찜한 레시피)
- 세션 관리 (인증 토큰)
- 상태 관리
- 서버 API 통신 (음식 추천, 이미지 검색)

## 📊 성능 최적화

### 로딩 성능
- CSS/JS 파일 분리로 캐시 효율성
- 이미지 최적화
- 코드 압축

### 사용자 경험
- 디바운스/스로틀 적용
- 로딩 스피너 표시
- 오류 처리 및 사용자 피드백

## 🐛 알려진 이슈

1. **브라우저 호환성**: IE 지원 불가 (모던 브라우저만 지원)
2. **데이터 지속성**: LocalStorage 기반으로 브라우저 데이터 삭제 시 정보 손실
3. **서버 연결**: 서버가 다운되거나 네트워크 문제 시 추천 기능 사용 불가
4. **CORS 정책**: Nginx 프록시를 통해 해결됨 (`https://oneul.site` 사용)
5. **프론트엔드 배포**: 현재 프론트엔드가 배포되지 않아 웹사이트 화면이 보이지 않음 (Nginx 설정 필요)

## 🔮 향후 개선 계획

### 배포 개선
- [ ] 프론트엔드 Nginx 배포 설정
- [ ] Nginx 프록시 설정 (프론트엔드 + 백엔드)
- [ ] 도메인 SSL 인증서 설정
- [ ] 정적 파일 서빙 최적화

### 기능 개선
- [x] 서버 API 연동 (음식 추천, 이미지 검색)
- [ ] 레시피 상세 정보 API 연동
- [ ] 소셜 로그인 지원
- [ ] 영양소 계산기 고도화
- [ ] 식단 플래너 기능
- [ ] 사용자 인증 API 연동

### 기술 개선
- [ ] PWA (Progressive Web App) 지원
- [ ] 오프라인 모드 지원
- [ ] 성능 모니터링
- [ ] A/B 테스트 도입

### 사용자 경험
- [ ] 다국어 지원
- [ ] 음성 인식 기능
- [ ] AR 레시피 뷰어
- [ ] 커뮤니티 기능

## 📄 라이선스

이 프로젝트는 MIT 라이선스 하에 배포됩니다.

## 🤝 기여하기

1. Fork the Project
2. Create your Feature Branch (`git checkout -b feature/AmazingFeature`)
3. Commit your Changes (`git commit -m 'Add some AmazingFeature'`)
4. Push to the Branch (`git push origin feature/AmazingFeature`)
5. Open a Pull Request

## 📞 문의

프로젝트에 대한 문의사항이 있으시면 이슈를 생성해 주세요.

---

**맛있는 추천**으로 건강하고 맛있는 식단을 계획해보세요! 🍽️✨
